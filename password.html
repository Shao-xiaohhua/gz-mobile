<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta content="telephone=no" name="format-detection"/>
  <meta content="address=no" name="format-detection"/>
  <meta name="apple-mobile-web-app-capable" content="no" />

  <title>密码登录</title>
  <meta name="keywords" content="" />  
  <meta name="description" content="" /> 
  <meta name="author" content="HOMOLO">
</head>
<link rel="stylesheet" href="css/index.css">
<body class="bd-password">
  <div class="bg-shadow"></div>
  <div class="logo-box"></div>
  <div class="input-box">
    <div class="false-hints">请输入办理公证获取的查询密码</div>
    <div class="xn-box">
      <input class="xn-input" type="number" maxlength="4" minlength="0" oninput="if(value.length>4)value=value.slice(0,4)" >
    </div>
    <div class="flex-box-input">
      <div class="child-wrap" data-index="0">
        <input type="number" class="child-input" minlength="0" maxlength="1" oninput="if(value.length>1)value=value.slice(0,1)" id="input1">
      </div>
      <div class="child-wrap" data-index="1">
        <input type="number" class="child-input" minlength="0" maxlength="1" oninput="if(value.length>1)value=value.slice(0,1)" id="input2">
      </div>
      <div class="child-wrap" data-index="2">
        <input type="number" class="child-input" minlength="0" maxlength="1" oninput="if(value.length>1)value=value.slice(0,1)" id="input3">
      </div>
      <div class="child-wrap" data-index="3">
        <input type="number" class="child-input" minlength="0" maxlength="1" oninput="if(value.length>1)value=value.slice(0,1)" id="input4">
      </div>
    </div>
  </div>
  <a href="javascript:;" class="password-link">确定</a>
  <script>
    window.onload =function () {
      var passWordNum = 6666;
      var link = document.querySelector('.password-link');
      var ts = document.querySelector('.false-hints');
      var inputParent = document.querySelector('.flex-box-input').querySelectorAll('.child-wrap');
      var len = inputParent.length;
      var password = ''
      var num = 0;
      var index;
      var xnInput = document.querySelector('.xn-input');
      xnInput.addEventListener('input', function () {
        var val = this.value;
        var aru = val.split('');
        var len = aru.length
        for (var j = 0; j < inputParent.length; j++) {
          inputParent[j].querySelector('.child-input').value = ''
          inputParent[j].setAttribute('class', 'child-wrap')
        }
        for (var i = 0; i <len; i++) {
          inputParent[i].setAttribute('class', 'child-wrap active')
          inputParent[i].querySelector('.child-input').value = aru[i]
        }
      });
      link.addEventListener('click', function () {
        for (var i = 0; i < len; i++) {
          if (password.length < 4) {
            password += inputParent[i].querySelector('.child-input').value;
          }
        }
        num = parseInt(password);
        password = ''
        if (num === passWordNum) {
          window.location.href = 'index.html'
        } else {
          ts.classList.add("active");
          ts.innerHTML = '密码输入有误，请重新输入密码！'
        }
      });
    }
  </script>
</body>
</html>